{"_id":"first-chunk-stream","_rev":"6-96eea154cd0c3491cb989288c20c8653","name":"first-chunk-stream","description":"Transform the first chunk in a stream","dist-tags":{"latest":"3.0.0"},"versions":{"0.1.0":{"name":"first-chunk-stream","version":"0.1.0","description":"Transform the first chunk in a stream","license":"MIT","repository":{"type":"git","url":"git://github.com/sindresorhus/first-chunk-stream"},"author":{"name":"Sindre Sorhus","email":"sindresorhus@gmail.com","url":"http://sindresorhus.com"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"},"files":["index.js"],"keywords":["buffer","stream","streams","transform","first","chunk","size","min","minimum"],"devDependencies":{"concat-stream":"^1.4.5","mocha":"*"},"gitHead":"79ca900b4d31074448dc7767eae79f1e605dca20","bugs":{"url":"https://github.com/sindresorhus/first-chunk-stream/issues"},"homepage":"https://github.com/sindresorhus/first-chunk-stream","_id":"first-chunk-stream@0.1.0","_shasum":"755d3ec14d49a86e3d2fcc08beead5c0ca2b9c0a","_from":".","_npmVersion":"1.4.13","_npmUser":{"name":"sindresorhus","email":"sindresorhus@gmail.com"},"maintainers":[{"name":"sindresorhus","email":"sindresorhus@gmail.com"}],"dist":{"shasum":"755d3ec14d49a86e3d2fcc08beead5c0ca2b9c0a","tarball":"https://registry.npmjs.org/first-chunk-stream/-/first-chunk-stream-0.1.0.tgz"},"directories":{}},"1.0.0":{"name":"first-chunk-stream","version":"1.0.0","description":"Transform the first chunk in a stream","license":"MIT","repository":{"type":"git","url":"https://github.com/sindresorhus/first-chunk-stream"},"author":{"name":"Sindre Sorhus","email":"sindresorhus@gmail.com","url":"http://sindresorhus.com"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"},"files":["index.js"],"keywords":["buffer","stream","streams","transform","first","chunk","size","min","minimum"],"devDependencies":{"concat-stream":"^1.4.5","mocha":"*"},"gitHead":"8b0b1750edcc30fa2b2071245198181e925be619","bugs":{"url":"https://github.com/sindresorhus/first-chunk-stream/issues"},"homepage":"https://github.com/sindresorhus/first-chunk-stream","_id":"first-chunk-stream@1.0.0","_shasum":"59bfb50cd905f60d7c394cd3d9acaab4e6ad934e","_from":".","_npmVersion":"1.4.21","_npmUser":{"name":"sindresorhus","email":"sindresorhus@gmail.com"},"maintainers":[{"name":"sindresorhus","email":"sindresorhus@gmail.com"}],"dist":{"shasum":"59bfb50cd905f60d7c394cd3d9acaab4e6ad934e","tarball":"https://registry.npmjs.org/first-chunk-stream/-/first-chunk-stream-1.0.0.tgz"},"directories":{}},"2.0.0":{"name":"first-chunk-stream","version":"2.0.0","description":"Transform the first chunk in a stream","license":"MIT","repository":{"type":"git","url":"git+https://github.com/sindresorhus/first-chunk-stream.git"},"author":{"name":"Sindre Sorhus","email":"sindresorhus@gmail.com","url":"sindresorhus.com"},"engines":{"node":">=0.10.0"},"scripts":{"test":"xo && mocha","cover":"istanbul cover --report html _mocha -- test.js -R spec -t 5000"},"files":["index.js"],"keywords":["buffer","stream","streams","transform","first","chunk","size","min","minimum"],"dependencies":{"readable-stream":"^2.0.2"},"devDependencies":{"istanbul":"^0.3.19","mocha":"*","mocha-lcov-reporter":"0.0.2","streamtest":"^1.2.1","xo":"*"},"gitHead":"867c900661f90b4f50d1b2494f714f80933fc696","bugs":{"url":"https://github.com/sindresorhus/first-chunk-stream/issues"},"homepage":"https://github.com/sindresorhus/first-chunk-stream#readme","_id":"first-chunk-stream@2.0.0","_shasum":"1bdecdb8e083c0664b91945581577a43a9f31d70","_from":".","_npmVersion":"2.14.3","_nodeVersion":"4.1.0","_npmUser":{"name":"sindresorhus","email":"sindresorhus@gmail.com"},"dist":{"shasum":"1bdecdb8e083c0664b91945581577a43a9f31d70","tarball":"https://registry.npmjs.org/first-chunk-stream/-/first-chunk-stream-2.0.0.tgz"},"maintainers":[{"name":"sindresorhus","email":"sindresorhus@gmail.com"}],"directories":{}},"3.0.0":{"name":"first-chunk-stream","version":"3.0.0","description":"Transform the first chunk in a stream","license":"MIT","repository":{"type":"git","url":"git+https://github.com/sindresorhus/first-chunk-stream.git"},"author":{"name":"Sindre Sorhus","email":"sindresorhus@gmail.com","url":"sindresorhus.com"},"engines":{"node":">=8"},"scripts":{"test":"xo && nyc ava && tsd"},"keywords":["buffer","stream","streams","transform","first","chunk","size","min","minimum"],"devDependencies":{"@types/node":"^12.0.0","ava":"^1.4.1","nyc":"^14.0.0","streamtest":"^1.2.1","tsd":"^0.7.3","xo":"^0.24.0"},"gitHead":"c34c62cbf812d3b7c034b4e82a6118c385be118a","bugs":{"url":"https://github.com/sindresorhus/first-chunk-stream/issues"},"homepage":"https://github.com/sindresorhus/first-chunk-stream#readme","_id":"first-chunk-stream@3.0.0","_nodeVersion":"8.16.0","_npmVersion":"6.9.0","_npmUser":{"name":"sindresorhus","email":"sindresorhus@gmail.com"},"dist":{"integrity":"sha512-LNRvR4hr/S8cXXkIY5pTgVP7L3tq6LlYWcg9nWBuW7o1NMxKZo6oOVa/6GIekMGI0Iw7uC+HWimMe9u/VAeKqw==","shasum":"06972a66263505ed82b2c4db93c1b5e078a6576a","tarball":"https://registry.npmjs.org/first-chunk-stream/-/first-chunk-stream-3.0.0.tgz","fileCount":5,"unpackedSize":9658,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJc2CprCRA9TVsSAnZWagAAdzYP/0P767JdWWTRx28Mjyu4\nNfZXQVDLpEwRlzKi7aLZFviYNAheIAODBWuFcVnOdM5tUUzJcP50bMPvR6Y/\nPyFWn4TpvtTn/xcZ9J6YulFZ/POsw4LBoeAh4MQJ+/9Ev1W1qfAhKZ2jgUa0\nlSz1nuGVwtVl1MrNSWHnB8XBhGE7zuwuvglU6yfLnu6wiOC/xfMquSyVQpqO\nxFEFBfroC/bLCJXBRZzKvO5GRxCk9DyhvdbrO5a2FL5rdNY9E4Vnoa1fzjQJ\nLQIveSsN+f1v/080/Hij0I7i5lgkJbSitU5tBlK3MR3gd7Q7erRNuQyhGcoo\n7voeqC4rhFw8I+GDVvTcn0WQupp5Ui2Ll5TGcI5VOTkeyVeEY8jfAjCKKUjj\nOpGCMNhJlxv1Y7WHZKdotD7uKeOEzfSZTpTMFwWLHOkUix3WpKrN90QyN6nR\nv3pmfx0KK5A4Xc03hVD3GIAxrU2J8AO8aXSNdtgkG93sdKYrdM9j8OBeXgM+\nrnnPW9DqdIGo2dKwt7EBJMHuMtybrKgLUbZ6yOl2s6zczyX31WTjGPEYtTGz\npnuwUp5MdxjFNUhBx2ukbkU70xVs8CLpfSFGacvYB84jf5KaWEMvFeUln7So\nUPVC7HpQg4oND5IYawGbOFoa/kUneOvCIICPSVYjogVcw6JHNnEL9Mf0V7kC\nmhkT\r\n=XUyk\r\n-----END PGP SIGNATURE-----\r\n"},"maintainers":[{"name":"sindresorhus","email":"sindresorhus@gmail.com"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/first-chunk-stream_3.0.0_1557670506283_0.4465839831807381"},"_hasShrinkwrap":false}},"readme":"# first-chunk-stream [![Build Status](https://travis-ci.org/sindresorhus/first-chunk-stream.svg?branch=master)](https://travis-ci.org/sindresorhus/first-chunk-stream)\n\n> Buffer and transform the n first bytes of a stream\n\n\n## Install\n\n```\n$ npm install first-chunk-stream\n```\n\n\n## Usage\n\n```js\nconst fs = require('fs');\nconst getStream = require('get-stream');\nconst FirstChunkStream = require('first-chunk-stream');\n\n// unicorn.txt => unicorn rainbow\nconst stream = fs.createReadStream('unicorn.txt')\n\t.pipe(new FirstChunkStream({chunkLength: 7}, (error, chunk, encoding, callback) => {\n\t\tif (error) {\n\t\t\tcallback(error);\n\t\t\treturn;\n\t\t}\n\n\t\tcallback(null, chunk.toString(encoding).toUpperCase());\n\t}));\n\n(async () => {\n\tconst data = await getStream(stream);\n\n\tif (data.length < 7) {\n\t\tthrow new Error('Couldn\\'t get the minimum required first chunk length');\n\t}\n\n\tconsole.log(data);\n\t//=> 'UNICORN rainbow'\n})();\n```\n\n\n## API\n\n### firstChunkStream(options, transform)\n\nReturns a `FirstChunkStream` instance.\n\n#### transform(error, chunk, encoding, callback)\n\nType: `Function`\n\nThe function that gets the required `options.chunkLength` bytes.\n\nNote that the buffer can have a smaller length than the required one. In that case, it will be due to the fact that the complete stream contents has a length less than the `options.chunkLength` value. You should check for this yourself if you strictly depend on the length.\n\n#### options\n\nType: `object`\n\nThe options object is passed to the [`Duplex` stream](https://nodejs.org/api/stream.html#stream_class_stream_duplex) constructor allowing you to customize your stream behavior. In addition you can specify the following option:\n\n###### chunkLength\n\nType: `number`\n\nHow many bytes you want to buffer.\n\n\n## License\n\nMIT Â© [Sindre Sorhus](https://sindresorhus.com)\n","maintainers":[{"name":"sindresorhus","email":"sindresorhus@gmail.com"}],"time":{"modified":"2019-05-12T14:15:09.022Z","created":"2014-05-25T15:47:09.711Z","0.1.0":"2014-05-25T15:47:09.711Z","1.0.0":"2014-08-14T09:06:30.958Z","2.0.0":"2015-09-20T16:31:11.197Z","3.0.0":"2019-05-12T14:15:06.570Z"},"homepage":"https://github.com/sindresorhus/first-chunk-stream#readme","keywords":["buffer","stream","streams","transform","first","chunk","size","min","minimum"],"repository":{"type":"git","url":"git+https://github.com/sindresorhus/first-chunk-stream.git"},"author":{"name":"Sindre Sorhus","email":"sindresorhus@gmail.com","url":"sindresorhus.com"},"bugs":{"url":"https://github.com/sindresorhus/first-chunk-stream/issues"},"license":"MIT","readmeFilename":"readme.md","_etag":"W/\"fe5410ba9b1d7e09522d88c0b1a8e610\"","_lastModified":"Sun, 12 May 2019 14:15:10 GMT"}